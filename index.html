<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="appTitle">Observa√ß√µes Astron√≥micas</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="icon-192.png">
</head>
<body>
  <header>
    <strong>üî≠ <span data-i18n="appTitle">Observa√ß√µes Astron√≥micas</span></strong>
    <div class="top-buttons">
      <button id="themeToggle">‚òÄÔ∏è</button>
      <button id="toggleRed">üî¥</button>
      <button id="toggleLang">EN</button>
      <button id="searchToggle">üîç</button>
    </div>
  </header>
  <nav>
    <button class="tab-button active" data-tab="observacoes" data-i18n="tabObservacoes">Observa√ß√µes</button>
    <button class="tab-button" data-tab="favoritos" data-i18n="tabFavoritos">Favoritos</button>
    <button class="tab-button" data-tab="adicionar" data-i18n="tabAdicionar">Adicionar</button>
    <button class="tab-button" data-tab="recursos" data-i18n="tabRecursos">Recursos</button>
    <button class="tab-button" data-tab="config" data-i18n="tabConfig">Config</button>
  </nav>
  <div id="searchBar">
    <input type="search" id="searchInput" placeholder="üîé Procurar..." data-i18n="searchPlaceholder" />
  </div>

  <!-- Conte√∫do das tabs aqui ... (mant√©m igual como na vers√£o anterior) -->

  <script src="https://cdn.jsdelivr.net/npm/idb@7/build/umd.js"></script>
  <script>
    const i18n = {
      pt: {
        appTitle: "Observa√ß√µes Astron√≥micas",
        tabObservacoes: "Observa√ß√µes",
        tabFavoritos: "Favoritos",
        tabAdicionar: "Adicionar",
        tabRecursos: "Recursos",
        tabConfig: "Config",
        searchPlaceholder: "üîé Procurar...",
        nome: "Nome",
        tipo: "Tipo",
        estrela: "Estrela",
        galaxia: "Gal√°xia",
        aglomerado: "Aglomerado",
        nebulosa: "Nebulosa",
        sistemasolar: "Sistema Solar",
        outro: "Outro",
        data: "Data",
        local: "Local",
        ra: "RA",
        dec: "DEC",
        magnitude: "Magnitude",
        elongacao: "Elonga√ß√£o",
        distancia: "Dist√¢ncia",
        unidade: "Unidade",
        descricao: "Descri√ß√£o",
        foto: "Foto",
        guardar: "üíæ Guardar",
        ordenar: "üÖ∞Ô∏èüîΩ Ordenar",
        exportar: "üì§ Exportar",
        importar: "üì• Importar",
        catMessierTitulo: "üåå Cat√°logo Messier",
        catMessierDescricao: "Lista dos 110 objetos mais observados do c√©u noturno.",
        verOnline: "Ver online",
        stellariumTitulo: "üî≠ Simulador de C√©u",
        stellariumDescricao: "Visualize o c√©u em tempo real, com planetas, constela√ß√µes e estrelas.",
        abrir: "Abrir Stellarium",
        fasesLuaTitulo: "üåì Fases da Lua",
        fasesLuaDescricao: "Calend√°rio com todas as fases lunares.",
        verFases: "Ver Fases",
        eventosTitulo: "üå† Eventos Astron√≥micos",
        eventosDescricao: "Chuva de meteoros, eclipses, conjun√ß√µes e mais.",
        verEventos: "Ver Eventos"
      },
      en: {
        appTitle: "Astronomical Observations",
        tabObservacoes: "Observations",
        tabFavoritos: "Favorites",
        tabAdicionar: "Add",
        tabRecursos: "Resources",
        tabConfig: "Settings",
        searchPlaceholder: "üîé Search...",
        nome: "Name",
        tipo: "Type",
        estrela: "Star",
        galaxia: "Galaxy",
        aglomerado: "Cluster",
        nebulosa: "Nebula",
        sistemasolar: "Solar System",
        outro: "Other",
        data: "Date",
        local: "Location",
        ra: "RA",
        dec: "DEC",
        magnitude: "Magnitude",
        elongacao: "Elongation",
        distancia: "Distance",
        unidade: "Unit",
        descricao: "Description",
        foto: "Photo",
        guardar: "üíæ Save",
        ordenar: "üÖ∞Ô∏èüîΩ Sort",
        exportar: "üì§ Export",
        importar: "üì• Import",
        catMessierTitulo: "üåå Messier Catalog",
        catMessierDescricao: "List of 110 most observed deep sky objects.",
        verOnline: "View online",
        stellariumTitulo: "üî≠ Sky Simulator",
        stellariumDescricao: "See the sky in real time with planets and constellations.",
        abrir: "Open Stellarium",
        fasesLuaTitulo: "üåì Moon Phases",
        fasesLuaDescricao: "Calendar of moon phases.",
        verFases: "View Phases",
        eventosTitulo: "üå† Astronomical Events",
        eventosDescricao: "Meteor showers, eclipses, conjunctions and more.",
        verEventos: "View Events"
      }
    };

    let currentLang = localStorage.getItem('lang') || 'pt';
    function traduzir() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const txt = i18n[currentLang][key];
        if (txt) {
          if (el.placeholder) el.placeholder = txt;
          else el.textContent = txt;
        }
      });
      document.getElementById('toggleLang').textContent = currentLang === 'pt' ? 'EN' : 'PT';
    }

    document.getElementById('toggleLang').onclick = () => {
      currentLang = currentLang === 'pt' ? 'en' : 'pt';
      localStorage.setItem('lang', currentLang);
      traduzir();
    };

    traduzir();
  </script>
  <script src="script.js"></script>

  <section id="editar" style="display:none;">
    <form id="editForm">
      <input type="hidden" id="editObjectId">
      <label><span data-i18n="nome">Nome</span><input id="editNome" /></label>
      <label><span data-i18n="tipo">Tipo</span>
        <select id="editTipo">
          <option data-i18n="estrela">Estrela</option>
          <option data-i18n="galaxia">Gal√°xia</option>
          <option data-i18n="aglomerado">Aglomerado</option>
          <option data-i18n="nebulosa">Nebulosa</option>
          <option data-i18n="sistemasolar">Sistema Solar</option>
          <option data-i18n="outro">Outro</option>
        </select>
      </label>
      <label><span data-i18n="data">Data</span><input id="editData" type="date" /></label>
      <label><span data-i18n="local">Local</span><input id="editLocal" /></label>
      <label><span data-i18n="ra">RA</span><input id="editRa" /></label>
      <label><span data-i18n="dec">DEC</span><input id="editDec" /></label>
      <label><span data-i18n="magnitude">Magnitude</span><input id="editMagnitude" type="number" step="0.1" /></label>
      <label><span data-i18n="elongacao">Elonga√ß√£o</span><input id="editElongacao" type="number" step="0.1" /></label>
      <label><span data-i18n="distancia">Dist√¢ncia</span><input id="editDistancia" /></label>
	  <label><span data-i18n="unidade">Unidade</span>
  <select id="editDistUnidade">
    <option value="AU">AU</option>
    <option value="ly">ly</option>
  </select>
</label>
      <label><span data-i18n="descricao">Descri√ß√£o</span><textarea id="editDescricao"></textarea></label>
      <div id="editPreview"></div>
      <button type="submit" data-i18n="guardar">üíæ Guardar</button>
    </form>
  </section>
  
  <section id="adicionar" class="active">
  <form id="addForm">
    <input type="hidden" id="editObject">
    <label><span data-i18n="nome">Nome</span><input id="nome" /></label>
    <label><span data-i18n="tipo">Tipo</span>
      <select id="tipo">
        <option value="Estrela" data-i18n="estrela">Estrela</option>
        <option value="Gal√°xia" data-i18n="galaxia">Gal√°xia</option>
        <option value="Aglomerado" data-i18n="aglomerado">Aglomerado</option>
        <option value="Nebulosa" data-i18n="nebulosa">Nebulosa</option>
        <option value="Sistema Solar" data-i18n="sistemasolar">Sistema Solar</option>
        <option value="Outro" data-i18n="outro">Outro</option>
      </select>
    </label>
    <label><span data-i18n="data">Data</span><input type="date" id="data" /></label>
    <label><span data-i18n="local">Local</span><input id="local" /></label>
    <label><span data-i18n="ra">RA</span><input id="ra" /></label>
    <label><span data-i18n="dec">DEC</span><input id="dec" /></label>
    <label><span data-i18n="magnitude">Magnitude</span><input type="number" step="0.1" id="magnitude" /></label>
    <label><span data-i18n="elongacao">Elonga√ß√£o</span><input type="number" step="0.1" id="elongacao" /></label>
    <label><span data-i18n="distancia">Dist√¢ncia</span><input id="distancia" /></label>
    <label><span data-i18n="unidade">Unidade</span>
      <select id="distUnidade">
        <option value="AU">AU</option>
        <option value="ly">ly</option>
      </select>
    </label>
    <label><span data-i18n="foto">Foto</span><input type="file" id="foto" accept="image/*" /></label>
    <label><span data-i18n="descricao">Descri√ß√£o</span><textarea id="descricao"></textarea></label>
    <div id="preview"></div>
    <button type="submit" data-i18n="guardar">üíæ Guardar</button>
  </form>
</section>

  
</body>
</html>
