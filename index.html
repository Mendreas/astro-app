<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="appTitle">ObservaÃ§Ãµes AstronÃ³micas</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="icon-192.png">
</head>
<body>
  <header>
    <strong>ğŸ”­ <span data-i18n="appTitle">ObservaÃ§Ãµes AstronÃ³micas</span></strong>
    <div class="top-buttons">
      <button id="themeToggle">â˜€ï¸</button>
      <button id="toggleRed">ğŸ”´</button>
      <button id="toggleLang">EN</button>
      <button id="searchToggle">ğŸ”</button>
    </div>
  </header>
  <nav>
    <button class="tab-button active" data-tab="observacoes" data-i18n="tabObservacoes">ObservaÃ§Ãµes</button>
    <button class="tab-button" data-tab="favoritos" data-i18n="tabFavoritos">Favoritos</button>
    <button class="tab-button" data-tab="adicionar" data-i18n="tabAdicionar">Adicionar</button>
    <button class="tab-button" data-tab="recursos" data-i18n="tabRecursos">Recursos</button>
    <button class="tab-button" data-tab="config" data-i18n="tabConfig">Config</button>
  </nav>
  <div id="searchBar">
    <input type="search" id="searchInput" placeholder="ğŸ” Procurar..." data-i18n="searchPlaceholder" />
  </div>

  <!-- ConteÃºdo das tabs aqui ... (mantÃ©m igual como na versÃ£o anterior) -->

  <script src="https://cdn.jsdelivr.net/npm/idb@7/build/umd.js"></script>
  <script>
    const i18n = {
      pt: {
        appTitle: "ObservaÃ§Ãµes AstronÃ³micas",
        tabObservacoes: "ObservaÃ§Ãµes",
        tabFavoritos: "Favoritos",
        tabAdicionar: "Adicionar",
        tabRecursos: "Recursos",
        tabConfig: "Config",
        searchPlaceholder: "ğŸ” Procurar...",
        nome: "Nome",
        tipo: "Tipo",
        estrela: "Estrela",
        galaxia: "GalÃ¡xia",
        aglomerado: "Aglomerado",
        nebulosa: "Nebulosa",
        sistemasolar: "Sistema Solar",
        outro: "Outro",
        data: "Data",
        local: "Local",
        ra: "RA",
        dec: "DEC",
        magnitude: "Magnitude",
        elongacao: "ElongaÃ§Ã£o",
        distancia: "DistÃ¢ncia",
        unidade: "Unidade",
        descricao: "DescriÃ§Ã£o",
        foto: "Foto",
        guardar: "ğŸ’¾ Guardar",
        ordenar: "ğŸ…°ï¸ğŸ”½ Ordenar",
        exportar: "ğŸ“¤ Exportar",
        importar: "ğŸ“¥ Importar",
        catMessierTitulo: "ğŸŒŒ CatÃ¡logo Messier",
        catMessierDescricao: "Lista dos 110 objetos mais observados do cÃ©u noturno.",
        verOnline: "Ver online",
        stellariumTitulo: "ğŸ”­ Simulador de CÃ©u",
        stellariumDescricao: "Visualize o cÃ©u em tempo real, com planetas, constelaÃ§Ãµes e estrelas.",
        abrir: "Abrir Stellarium",
        fasesLuaTitulo: "ğŸŒ“ Fases da Lua",
        fasesLuaDescricao: "CalendÃ¡rio com todas as fases lunares.",
        verFases: "Ver Fases",
        eventosTitulo: "ğŸŒ  Eventos AstronÃ³micos",
        eventosDescricao: "Chuva de meteoros, eclipses, conjunÃ§Ãµes e mais.",
        verEventos: "Ver Eventos"
      },
      en: {
        appTitle: "Astronomical Observations",
        tabObservacoes: "Observations",
        tabFavoritos: "Favorites",
        tabAdicionar: "Add",
        tabRecursos: "Resources",
        tabConfig: "Settings",
        searchPlaceholder: "ğŸ” Search...",
        nome: "Name",
        tipo: "Type",
        estrela: "Star",
        galaxia: "Galaxy",
        aglomerado: "Cluster",
        nebulosa: "Nebula",
        sistemasolar: "Solar System",
        outro: "Other",
        data: "Date",
        local: "Location",
        ra: "RA",
        dec: "DEC",
        magnitude: "Magnitude",
        elongacao: "Elongation",
        distancia: "Distance",
        unidade: "Unit",
        descricao: "Description",
        foto: "Photo",
        guardar: "ğŸ’¾ Save",
        ordenar: "ğŸ…°ï¸ğŸ”½ Sort",
        exportar: "ğŸ“¤ Export",
        importar: "ğŸ“¥ Import",
        catMessierTitulo: "ğŸŒŒ Messier Catalog",
        catMessierDescricao: "List of 110 most observed deep sky objects.",
        verOnline: "View online",
        stellariumTitulo: "ğŸ”­ Sky Simulator",
        stellariumDescricao: "See the sky in real time with planets and constellations.",
        abrir: "Open Stellarium",
        fasesLuaTitulo: "ğŸŒ“ Moon Phases",
        fasesLuaDescricao: "Calendar of moon phases.",
        verFases: "View Phases",
        eventosTitulo: "ğŸŒ  Astronomical Events",
        eventosDescricao: "Meteor showers, eclipses, conjunctions and more.",
        verEventos: "View Events"
      }
    };

    let currentLang = localStorage.getItem('lang') || 'pt';
    function traduzir() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const txt = i18n[currentLang][key];
        if (txt) {
          if (el.placeholder) el.placeholder = txt;
          else el.textContent = txt;
        }
      });
      document.getElementById('toggleLang').textContent = currentLang === 'pt' ? 'EN' : 'PT';
    }

    document.getElementById('toggleLang').onclick = () => {
      currentLang = currentLang === 'pt' ? 'en' : 'pt';
      localStorage.setItem('lang', currentLang);
      traduzir();
    };

    traduzir();
  </script>
  <script src="script.js"></script>

  <section id="editar" style="display:none;">
    <form id="editForm">
      <input type="hidden" id="editObjectId">
      <label><span data-i18n="nome">Nome</span><input id="editNome" /></label>
      <label><span data-i18n="tipo">Tipo</span>
        <select id="editTipo">
          <option data-i18n="estrela">Estrela</option>
          <option data-i18n="galaxia">GalÃ¡xia</option>
          <option data-i18n="aglomerado">Aglomerado</option>
          <option data-i18n="nebulosa">Nebulosa</option>
          <option data-i18n="sistemasolar">Sistema Solar</option>
          <option data-i18n="outro">Outro</option>
        </select>
      </label>
      <label><span data-i18n="data">Data</span><input id="editData" type="date" /></label>
      <label><span data-i18n="local">Local</span><input id="editLocal" /></label>
      <label><span data-i18n="ra">RA</span><input id="editRa" /></label>
      <label><span data-i18n="dec">DEC</span><input id="editDec" /></label>
      <label><span data-i18n="magnitude">Magnitude</span><input id="editMagnitude" type="number" step="0.1" /></label>
      <label><span data-i18n="elongacao">ElongaÃ§Ã£o</span><input id="editElongacao" type="number" step="0.1" /></label>
      <label><span data-i18n="distancia">DistÃ¢ncia</span><input id="editDistancia" /></label>
	  <label><span data-i18n="unidade">Unidade</span>
  <select id="editDistUnidade">
    <option value="AU">AU</option>
    <option value="ly">ly</option>
  </select>
</label>
      <label><span data-i18n="descricao">DescriÃ§Ã£o</span><textarea id="editDescricao"></textarea></label>
      <div id="editPreview"></div>
      <button type="submit" data-i18n="guardar">ğŸ’¾ Guardar</button>
    </form>
  </section>
</body>
</html>
